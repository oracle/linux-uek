#
# Pensando SoC drivers
#
#
# To prevent gcc 10 from replacing functions with memset and memcpy
#
CFLAGS_kpcimgr.o := $(call cc-option,-fno-tree-loop-distribute-patterns) 

obj-y += cap_soc.o
obj-y += kpcimgr.o kpcimgr_sysfs.o

CFLAGS_cap_mem.o := -I$(src)

obj-$(CONFIG_PENSANDO_SOC_CAPMEM) += cap_mem.o
obj-$(CONFIG_PENSANDO_SOC_PCIE) += cap_pcie.o cap_reboot.o
obj-$(CONFIG_PENSANDO_SOC_RSTCAUSE) += cap_rstcause.o
obj-$(CONFIG_PENSANDO_SOC_CRASH) += cap_crash.o
obj-$(CONFIG_PENSANDO_SOC_BSM) += cap_bsm.o
obj-$(CONFIG_PENSANDO_SOC_PENFW) += penfw_smc.o penfw_sysfs.o penfw_drv.o
obj-$(CONFIG_PENSANDO_SOC_SBUS) += sbus.o
